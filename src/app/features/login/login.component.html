<form [formGroup]="form" (submit)="login()">
    <mat-card appearance="outlined">
        <mat-card-header>
            <mat-card-title>Login</mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <div class="fx-col">
                <mat-form-field>
                    <mat-icon matPrefix>person</mat-icon>
                    <mat-label>Username</mat-label>
                    <input matInput [formControl]="form.controls.username" />
                    <mat-error>Field is required</mat-error>
                </mat-form-field>

                <mat-form-field appFormError>
                    <mat-icon matPrefix>key</mat-icon>
                    <mat-label>Password</mat-label>
                    <input matInput type="password" [formControl]="form.controls.password" />
                    <mat-error>Field is required</mat-error>
                </mat-form-field>

                @if (errorMessage()) {
                    <p class="text-error">{{ errorMessage() }}</p>
                }
            </div>

            <div class="fx-center mg-1">
                <button
                    class="login-button"
                    mat-flat-button
                    type="submit"
                    [appLoading]="loading()"
                    [disabled]="form.invalid || loading()">
                    Login
                </button>
            </div>

            <mat-divider inset />

            <div class="mg-1">
                <a matButton>Forgot password?</a>

                <div class="fx-row fx-align" role="text">
                    <p>New here?</p>
                    <a matButton>Sign up</a>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</form>
